---
layout: null
title: Blog
permalink: /blog/
---

<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title | default: "Blog" }} — {{ site.title }}</title>

    <link rel="stylesheet" href="/css/blog.css" />

    {% include mathjax.html %}
  </head>

  <body class="blog-page">
    {% include nav.html %}

    <main class="blog-wrap">
      <header class="blog-hero">
        <div class="hero-kicker">NOTES</div>
        <h1 class="hero-title">{{ page.title | default: "Blog" }}</h1>

        <p class="hero-quote">
          “I learned very early the difference between knowing the name of something and knowing something.”
          <span class="hero-quote-author">Richard Feynman</span>
        </p>

        <div class="hero-actions">
          <a class="hero-action" href="#tags">Tags</a>
          <a class="hero-action" href="#posts">Posts</a>
          <a class="hero-action" href="/feed.xml">RSS</a>
        </div>

        <div class="hero-rule"></div>
      </header>

      {%- assign posts_sorted = site.posts | sort: "date" | reverse -%}

      {%- comment -%}
      Build unique tag list from site.tags (map: tag -> [posts])
      {%- endcomment -%}
      {% assign tags_sorted = site.tags | sort %}
      {% assign tags_unique = "" | split: "" %}
      {% for tag in tags_sorted %}
        {% assign tag_name = tag[0] %}
        {% assign tags_unique = tags_unique | push: tag_name %}
      {% endfor %}

      <!-- TAGS -->
      <section id="tags" class="blog-section">
        <div class="section-head">
          <div class="section-title">Tags</div>
          <div class="section-meta"><span id="tagCount">{{ tags_unique | size }}</span></div>
        </div>

        {% if tags_unique == nil or tags_unique.size == 0 %}
          <div class="empty-state">
            <p>No tags yet.</p>
          </div>
        {% else %}
          <div class="tag-cloud" id="tagCloud" aria-label="Tag filters">
            <button class="tag-pill is-active" type="button" data-tag="__all">All</button>
            {% for t in tags_unique %}
              <button class="tag-pill" type="button" data-tag="{{ t | downcase | strip }}">{{ t }}</button>
            {% endfor %}
            <button class="tag-pill tag-clear" type="button" id="clearTags">Clear</button>
          </div>

          <div class="filter-hint" id="filterHint" style="display:none;">
            Filtering by: <span id="filterList"></span>
          </div>
        {% endif %}
      </section>

      <!-- POSTS -->
      <section id="posts" class="blog-section">
        <div class="section-head">
          <div class="section-title">Posts</div>
          <div class="section-meta">
            <span id="postsVisible">{{ posts_sorted | size }}</span>/<span id="postsTotal">{{ posts_sorted | size }}</span>
          </div>
        </div>

        {% if posts_sorted == nil or posts_sorted.size == 0 %}
          <div class="empty-state">
            <p>No posts yet.</p>
          </div>
        {% else %}
          <div class="posts-list" id="postsList">
            {% for post in posts_sorted %}
              {% assign tags_attr = "" %}
              {% if post.tags %}
                {% for t in post.tags %}
                  {% assign tags_attr = tags_attr | append: t | downcase | strip | append: "|" %}
                {% endfor %}
              {% endif %}

              <article
                class="post-card"
                data-tags="{{ tags_attr }}"
                data-url="{{ post.url }}"
              >
                <div class="post-meta">
                  <span class="meta-text">{{ post.date | date: "%Y-%m-%d" }}</span>
                  {% if post.series %}
                    <span class="dot">•</span>
                    <span class="meta-text">Series: {{ post.series }}</span>
                  {% endif %}
                </div>

                <h2 class="post-title">
                  <a class="post-link" href="{{ post.url }}">{{ post.title }}</a>
                </h2>

                {% if post.excerpt %}
                  <p class="post-excerpt">{{ post.excerpt | strip_html | replace: "\n", " " | truncate: 180 }}</p>
                {% endif %}

                {% if post.tags %}
                  <div class="chips">
                    {% for t in post.tags %}
                      <button class="chip chip-link" type="button" data-tag="{{ t | downcase | strip }}">{{ t }}</button>
                    {% endfor %}
                  </div>
                {% endif %}

                <div class="card-links">
                  <a class="link" href="{{ post.url | relative_url }}">READ</a>
                  <button
                    class="link link-btn js-share"
                    type="button"
                    data-url="{{ post.url | absolute_url }}"
                    data-title="{{ post.title | escape }}">
                    SHARE
                  </button>
                </div>
              </article>
            {% endfor %}
          </div>
        {% endif %}
      </section>

      <footer class="blog-footer">
        <div class="footer-rule"></div>
        <div class="footer-text">Last updated: {{ "now" | date: "%Y-%m-%d" }}</div>
      </footer>
    </main>

    <script>
      (function () {
        const tagCloud = document.getElementById("tagCloud");
        const clearBtn = document.getElementById("clearTags");
        const hint = document.getElementById("filterHint");
        const filterList = document.getElementById("filterList");

        const postsList = document.getElementById("postsList");
        const visibleEl = document.getElementById("postsVisible");
        const totalEl = document.getElementById("postsTotal");

        if (!tagCloud || !postsList) return;

        const tagButtons = Array.from(tagCloud.querySelectorAll("[data-tag]"));
        const allBtn = tagCloud.querySelector('[data-tag="__all"]');
        const postCards = Array.from(postsList.querySelectorAll(".post-card"));

        const total = postCards.length;
        if (totalEl) totalEl.textContent = String(total);

        const selected = new Set(); // stores lowercase tags

        function getCardTags(card) {
          const raw = (card.getAttribute("data-tags") || "").split("|").filter(Boolean);
          return new Set(raw.map(s => s.trim().toLowerCase()).filter(Boolean));
        }

        function setButtonActive(tag, isActive) {
          const btn = tagCloud.querySelector(`[data-tag="${CSS.escape(tag)}"]`);
          if (!btn) return;
          btn.classList.toggle("is-active", isActive);
        }

        function syncAllButton() {
          const hasFilters = selected.size > 0;
          if (allBtn) allBtn.classList.toggle("is-active", !hasFilters);
        }

        function renderHint() {
          if (!hint || !filterList) return;
          if (selected.size === 0) {
            hint.style.display = "none";
            filterList.textContent = "";
            return;
          }
          hint.style.display = "";
          filterList.textContent = Array.from(selected).join(", ");
        }

        function applyFilter() {
          let shown = 0;

          postCards.forEach(card => {
            const tags = getCardTags(card);

            // AND logic: must contain all selected tags
            let ok = true;
            for (const t of selected) {
              if (!tags.has(t)) { ok = false; break; }
            }

            card.style.display = ok ? "" : "none";
            if (ok) shown++;
          });

          if (visibleEl) visibleEl.textContent = String(shown);
          syncAllButton();
          renderHint();
        }

        function clearSelection() {
          selected.clear();
          tagButtons.forEach(btn => btn.classList.remove("is-active"));
          if (allBtn) allBtn.classList.add("is-active");
          applyFilter();
        }

        // Click on tag pills (top)
        tagCloud.addEventListener("click", (e) => {
          const btn = e.target.closest("[data-tag]");
          if (!btn) return;

          const tag = (btn.getAttribute("data-tag") || "").toLowerCase().trim();
          if (!tag) return;

          if (tag === "__all") {
            clearSelection();
            return;
          }

          // toggle
          if (selected.has(tag)) {
            selected.delete(tag);
            btn.classList.remove("is-active");
          } else {
            selected.add(tag);
            btn.classList.add("is-active");
          }

          applyFilter();
        });

        // Clear button
        if (clearBtn) {
          clearBtn.addEventListener("click", () => clearSelection());
        }

        // Click on chips inside a post card also toggles filters
        postsList.addEventListener("click", (e) => {
          const chip = e.target.closest(".chip-link[data-tag]");
          if (!chip) return;
          e.preventDefault();

          const tag = (chip.getAttribute("data-tag") || "").toLowerCase().trim();
          if (!tag) return;

          if (selected.has(tag)) {
            selected.delete(tag);
            setButtonActive(tag, false);
          } else {
            selected.add(tag);
            setButtonActive(tag, true);
          }
          applyFilter();

          // optional: scroll to top of tags area
          // document.getElementById("tags")?.scrollIntoView({ behavior: "smooth", block: "start" });
        });

        // init
        clearSelection();
      })();
    </script>
    <script>
      (function () {
        function toast(msg) {
          // ultra-minimal feedback (sin CSS extra)
          const t = document.createElement("div");
          t.textContent = msg;
          t.style.position = "fixed";
          t.style.left = "50%";
          t.style.bottom = "18px";
          t.style.transform = "translateX(-50%)";
          t.style.padding = "10px 12px";
          t.style.border = "1px solid rgba(0,0,0,0.12)";
          t.style.borderRadius = "12px";
          t.style.background = "#fff";
          t.style.boxShadow = "0 8px 20px rgba(0,0,0,0.08)";
          t.style.fontSize = "12px";
          t.style.letterSpacing = "0.12em";
          t.style.textTransform = "uppercase";
          t.style.zIndex = 9999;
          document.body.appendChild(t);
          setTimeout(() => t.remove(), 1200);
        }

        async function copyToClipboard(text) {
          try {
            await navigator.clipboard.writeText(text);
            return true;
          } catch (e) {
            // fallback
            const ta = document.createElement("textarea");
            ta.value = text;
            ta.style.position = "fixed";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            try {
              document.execCommand("copy");
              ta.remove();
              return true;
            } catch (e2) {
              ta.remove();
              return false;
            }
          }
        }

        document.addEventListener("click", async (ev) => {
          const btn = ev.target.closest(".js-share");
          if (!btn) return;

          const url = btn.getAttribute("data-url") || window.location.href;
          const title = btn.getAttribute("data-title") || document.title;

          // share nativo si existe (móvil)
          if (navigator.share) {
            try {
              await navigator.share({ title, url });
              return;
            } catch (e) {
              // si cancela, no hacemos nada
            }
          }

          const ok = await copyToClipboard(url);
          toast(ok ? "Link copied" : "Copy failed");
        });
      })();
    </script>
  </body>
</html>
